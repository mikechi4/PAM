<ion-view view-title="Home">
<ion-content class="padding has-header" >
  <h1>Welcome</h1>
  <div class="card padding summary">
    <h4>Your spending goal for {{FromDate | date: 'MMMM'}} is:</h4>
    <input type="text" name="name" placeholder="$0.00" ng-model="spendGoal.budget_amt" class="spend-goal"><button ng-click="editGoal(spendGoal)"><i class="icon ion-compose"></i></button>

    <h5>Current total spent this month: ${{spendTotal}}</h5>
    <h5>Current budget fulfilment: {{(spendTotal/spendGoal.budget_amt) * 100 | number: 2}}%</h5>
    <div id="progress">
    <span id="percent">{{(spendTotal/spendGoal.budget_amt) * 100 | number: 2}}%</span>
    <div id="bar"></div>
</div>

  </div>

  <div class="card padding transactions-summary">
    <div class="transactions-title">
      <h4>Posted Transactions</h4>
        Add a transaction<button ng-click="addTransPopup()"><i class="icon ion-plus"></i></button>

    </div>

    <div class="row header">
      <div class="col col-20">
        Name
      </div>
      <div class="col col-20">
        Amount
      </div>
      <div class="col col-20">
        Category
      </div>
      <div class="col col-20">
        Date
      </div>
      <div class="col col-20">
        Options
      </div>
    </div>
    <div class="row" ng-repeat="transaction in transactions">
      <div class="col col-20">
        {{transaction.name}}
      </div>
      <div class="col col-20">
        ${{transaction.amount}}
      </div>
      <div class="col col-20">
        {{transaction.category}}
      </div>
      <div class="col col-20">
        {{transaction.purchase_date}}
      </div>
      <div class="col col-20">
        <!-- <a ui-sref="edit({id: transaction.transaction_id})">Edit</a> -->
        <a ng-click="editPopup({id: transaction.transaction_id})">Edit</a>
      </div>
    </div>
  </div>

  <div class="card padding summary">
    <h4>View Your Spending</h4>
    <nvd3 options="options" data="data"></nvd3>
  </div>
  </ion-content>
</ion-view>
